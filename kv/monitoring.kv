<MonitoringScreen>:
    customer_list: customer_list
    sensor_channel_1 : sensor_channel_1
    sensor_channel_2 : sensor_channel_2
    sensor_channel_3 : sensor_channel_3
    sensor_channel_4 : sensor_channel_4
    range_channel_1 : range_channel_1
    range_channel_2 : range_channel_2
    range_channel_3 : range_channel_3
    range_channel_4 : range_channel_4
    channel_1 : channel_1
    channel_2 : channel_2
    channel_3 : channel_3
    channel_4 : channel_4
    filter : filter

    FloatLayout:
        canvas.before:
            Rectangle:
                source: root.background_image  # Use the property for the background image
                size: self.size
                pos: self.pos

        # Main GridLayout with two columns and two rows
        GridLayout:
            cols: 2
            rows: 2
            spacing: 10
            padding: 20
            size_hint: 1, 1
            # Customers list Boxlayout
            BoxLayout:
                padding: 10
                spacing: 20
                size_hint: 0.25, 1
                orientation:'vertical'
                # Search filtering Boxlayout
                BoxLayout:
                    size_hint_y: 0.2
                    orientation:'vertical'
                    Label:
                        size_hint_y: None
                        halign: 'left'
                        valign: 'middle'
                        size_hint_y: 0.4
                        text:'Search by custoemrs Name'
                        font_size: .09 * self.width
                    TextInput:
                        size_hint_y: 0.4
                        id: filter
                        text: ''
                        hint_text: 'Customer Name'
                        font_size: .08 * self.width
                        on_text: root.filter_customer_list(self.text)
                    Label:
                        size_hint_y: 0.2
                        text:''
                # List of customers
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y : 0.8
                    canvas.before:
                        Color:
                            rgba: 0.15, 0.15, 0.15, 0.9  # Background Color
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]
                    Label:
                        spacing: '10dp'
                        font_size: .09 * self.width
                        text: "Customers List"
                        size_hint_y: None
                        height: 60
                    ScrollView:
                        BoxLayout:
                            id: customer_list
                            orientation: 'vertical'
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: 20
                            padding: 10

            # Column 2, Row 1 - Sensor Graphs Area with Channels 1 to 4
            GridLayout:
                cols: 2
                rows: 2
                spacing: 10
                padding: 10
                size_hint: 1, 1
                canvas.before:
                    Color:
                        rgba: 0.15, 0.15, 0.15, 0.9  # Background Color
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10]
                # Sensor Channel 1
                BoxLayout:
                    padding: 10
                    canvas.before:
                        Color:
                            rgba: 75, 92, 148, 0.56  # Background Color
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]
                    BoxLayout:
                        size_hint_x: 0.3
                        orientation: 'vertical'
                        BoxLayout:  # Sensor Selection & Time Selection
                            padding: 5
                            spacing: 5
                            orientation: 'vertical'
                            size_hint_y: 0.8

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Sensor'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: sensor_channel_1
                                text: 'Sensor!'
                                values: ['Sensor!', 'Sensor!']
                                on_text: root.sensor_selected(self.text, 'sensor_channel_1')

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Time'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: range_channel_1
                                text: 'Range!'
                                values: ['Time!', 'Time!']
                                on_text: root.time_selected(self.text, 'range_channel_1')

                        BoxLayout:  # Empty space below controls
                            size_hint_y: 0.6

                    AnchorLayout:
                        id: channel_1
                        anchor_x: 'right'
                        anchor_y: 'top'
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                # Sensor Channel 2
                BoxLayout:
                    padding: 10
                    canvas.before:
                        Color:
                            rgba: 75, 92, 148, 0.56  # Background Color
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]
                    BoxLayout:
                        size_hint_x: 0.3
                        orientation: 'vertical'
                        BoxLayout:
                            padding: 5
                            spacing: 5
                            orientation: 'vertical'
                            size_hint_y: 0.8

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Sensor'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: sensor_channel_2
                                text: 'Sensor!'
                                values: ['Sensor!', 'Sensor!']
                                on_text: root.sensor_selected(self.text, 'sensor_channel_2')

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Time'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: range_channel_2
                                text: 'Range!'
                                values: ['Time!', 'Time!']
                                on_text: root.time_selected(self.text, 'range_channel_2')

                        BoxLayout:
                            size_hint_y: 0.6

                    AnchorLayout:
                        id: channel_2
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                # Sensor Channel 3 (similar structure as channels 1 and 2)
                BoxLayout:
                    padding: 10
                    canvas.before:
                        Color:
                            rgba: 75, 92, 148, 0.56  # Background Color
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]
                    BoxLayout:
                        size_hint_x: 0.3
                        orientation: 'vertical'
                        BoxLayout:
                            padding: 5
                            spacing: 5
                            orientation: 'vertical'
                            size_hint_y: 0.8
                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Sensor'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: sensor_channel_3
                                text: 'Sensor!'
                                values: ['Sensor!', 'Sensor!']
                                on_text: root.sensor_selected(self.text, 'sensor_channel_3')

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Time'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: range_channel_3
                                text: 'Range!'
                                values: ['Time!', 'Time!']
                                on_text: root.time_selected(self.text, 'range_channel_3')

                        BoxLayout:
                            size_hint_y: 0.6

                    AnchorLayout:
                        id: channel_3
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos
                # Sensor Channel 4 (similar structure as channels 1 and 2)
                BoxLayout:
                    padding: 10
                    canvas.before:
                        Color:
                            rgba: 75, 92, 148, 0.56  # Background Color
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]
                    BoxLayout:
                        size_hint_x: 0.3
                        orientation: 'vertical'
                        BoxLayout:
                            padding: 5
                            spacing: 5
                            orientation: 'vertical'
                            size_hint_y: 0.8

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Sensor'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: sensor_channel_4
                                text: 'Sensor!'
                                values: ['Sensor!', 'Sensor!']
                                on_text: root.sensor_selected(self.text, 'sensor_channel_4')

                            Label:
                                color: 0, 0, 0
                                font_size: (self.width / 4 + self.height / 3) / 2
                                text: 'Select Time'
                            Spinner:
                                font_size: (.14 * self.height + .14 * self.width)
                                id: range_channel_4
                                text: 'Range!'
                                values: ['Time!', 'Time!']
                                on_text: root.time_selected(self.text, 'range_channel_4')

                        BoxLayout:
                            size_hint_y: 0.6

                    AnchorLayout:
                        id: channel_4
                        canvas.before:
                            Color:
                                rgba: 1, 1, 1, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

            # Column 1, Row 2 - Back to Main Menu Button
            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.25, 0.1

                Button:
                    background_normal: root.background_normal  # Use the dynamic property
                    background_down: root.background_down  # Use the dynamic property
                    text: "Back to Main Menu"
                    font_size: .09 * self.width
                    size_hint_x: .77
                    size_hint_y: 0.35
                    pos_hint: {'top': 0.47}
                    on_release: app.root.current = 'first_menu'

            # Column 2, Row 2 - Empty Space (for future widgets or layout adjustments)
            BoxLayout:
                size_hint: 1, 0.1
