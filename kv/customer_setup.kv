<CustomerSetupScreen>:
    name: 'customer_setup'
    first_name_input: first_name_input
    last_name_input: last_name_input
    email_input: email_input
    phone_input: phone_input
    city_input: city_input
    address_input: address_input
    description_input: description_input
    customer_list: customer_list

    FloatLayout:
        canvas.before:
            # Load and scale the background image to fit the screen
            Rectangle:
                source: 'assets/BG1.jpg'
                pos: self.pos
                size: self.size

        # Foreground content over the background image
        BoxLayout: 
            orientation: 'horizontal'
            padding: 10
            FloatLayout:
                # Background for the top image
                canvas.before:
                    Rectangle:
                        source: 'assets/Labels/Form-Label.png'
                        size: (self.width * 0.4, self.height * 0.1)  # Adjust the multipliers as needed
                        pos: (self.center_x - (self.width * 0.3), self.top - (self.height * 0.1)) 

                # Customer Registration Form
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 0.6
                    pos_hint: {'center_x': 0.29, 'top': .9}  # Position the form at the top

                    GridLayout:
                        cols: 2
                        size_hint_y: .5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Rectangle:
                                        source: 'assets/Labels/B1-Name.png'
                                        size: (self.width, self.height)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height)) 
                        TextInput:
                            size_hint_x: 1.7
                            id: first_name_input
                            font_size: self.height * 0.5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: (1, 1, 1, 1)
                                    Rectangle:
                                        source: 'assets/Labels/B2-Last-Name.png'
                                        size: (self.width, self.height)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height)) 
                        TextInput:
                            size_hint_x: 1.7
                            id: last_name_input
                            font_size: self.height * 0.5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: (1, 1, 1, 1)
                                    Rectangle:
                                        source: 'assets/Labels/B3-Email.png'
                                        size: (self.width, self.height)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height)) 
                        TextInput:
                            size_hint_x: 1.7
                            id: email_input
                            font_size: self.height * 0.5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: (1, 1, 1, 1)
                                    Rectangle:
                                        source: 'assets/Labels/B4-Phone.png'
                                        size: (self.width, self.height)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height)) 
                        TextInput:
                            size_hint_x: 1.7
                            id: phone_input
                            font_size: self.height * 0.5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: (1, 1, 1, 1)
                                    Rectangle:
                                        source: 'assets/Labels/B5-City.png'
                                        size: (self.width, self.height)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height)) 
                        TextInput:
                            size_hint_x: 1.7
                            id: city_input
                            font_size: self.height * 0.5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: (1, 1, 1, 1)
                                    Rectangle:
                                        source: 'assets/Labels/B6-Address.png'
                                        size: (self.width, self.height)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height)) 
                        TextInput:
                            size_hint_x: 1.7
                            id: address_input
                            font_size: self.height * 0.5
                        AnchorLayout:
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: (1, 1, 1, 1)
                                    Rectangle:
                                        source: 'assets/Labels/B7-Description.png'
                                        size: (self.width, self.height/3.8)  # Adjust the multipliers as needed
                                        pos: (self.center_x - (self.width * 0.5), self.top - (self.height*0.25)) 
                        TextInput:
                            size_hint_x: 1.7
                            size_hint_y: 4
                            id: description_input
                            font_size: self.height * 0.12

                    Button:
                        size_hint_x: .6
                        size_hint_y: .12
                        text: 'Register Customer'
                        font_size: self.width/12
                        background_normal: 'assets/PNG/Button_1/b2.png'
                        background_down: 'assets/PNG/Button_1/b4.png'
                        on_release: root.register_customer()
                        pos_hint: {"x":.4}

                    FloatLayout:
                        size_hint_y: .6
                        anchor_x: "left"
                        anchor_y: "bottom"
                        Button:
                            font_size: self.width/12
                            background_normal: 'assets/PNG/Button_1/b2.png'
                            background_down: 'assets/PNG/Button_1/b4.png'
                            on_release: root.manager.current = 'first_menu'
                            text: "Back to Main Menu"
                            size_hint_x: .6
                            size_hint_y: 0.2
                            pos_hint: {'top': 0.4}  # Adjusted to move the button up

            # Customer List
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: .8
                size_hint_y: 1
                Label:
                    size_hint_x: .5
                    size_hint_y: .05
                    text: 'Customer List'
                    pos_hint: {"x":.25}
                ScrollView:
                    size_hint: (1, 1)
                    height: 300
                    BoxLayout:
                        id: customer_list
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height

            # Sensor Setup Form
            BoxLayout:     
                orientation: 'vertical'
                size_hint_x: 0.6
                padding: 10
                spacing: 10

                Label:
                    id: sensor_label
                    text: "Please first select the Customer!"
                    text_size: self.size
                    size_hint_y: None
                    height: 60

                Label:
                    id: sensor_code_label
                    text: "Enter the sensor code.IMPORTANT!!!  \n(the sensor code is unique \nwithin the real sensor \nthat is physically set up!)"
                    text_size: self.size
                    size_hint_y: None
                    height: 100

                TextInput:
                    id: sensor_code_input
                    size_hint_y: None
                    height: 60
                    multiline: False

                Label:
                    text: "Please describe the sensor \n(location, type, and more details):"
                    text_size: self.size
                    size_hint_y: None
                    height: 60

                TextInput:
                    id: sensor_description_input
                    size_hint_y: None
                    height: 160
                    multiline: True

                Label:
                    text: "Please select the sensor type:"
                    text_size: self.size
                    size_hint_y: None
                    height: 30

                BoxLayout:      #----------------------------sensors Images----------------------------------#
                    orientation: 'horizontal'
                    spacing: 10
                    cols: 2
                    BoxLayout:
                        orientation: 'vertical'
                        Image:
                            source: 'assets/sensor1.png'
                        CheckBox:
                            group: 'sensor'

                    BoxLayout:
                        orientation: 'vertical'
                        Image:
                            source: 'assets/sensor2.png'
                        CheckBox:
                            group: 'sensor'

                    BoxLayout:
                        orientation: 'vertical'
                        Image:
                            source: 'assets/sensor3.png'
                        CheckBox:
                            group: 'sensor'

                    BoxLayout:
                        orientation: 'vertical'
                        Image:
                            source: 'assets/sensor4.png'
                        CheckBox:
                            group: 'sensor'

                Button:
                    text: "Save Sensor"
                    font_size: self.width/12
                    background_normal: 'assets/PNG/Button_1/b2.png'
                    background_down: 'assets/PNG/Button_1/b4.png'
                    size_hint_y: None
                    height: self.height
                    on_release: root.save_sensor()
